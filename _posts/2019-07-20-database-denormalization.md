---
title: "De-Normalization(반정규화)"
layout: post
category: DataBase
tags: [DataBase]
excerpt: "De-Normalization(반정규화)에 대해서 배워 봅시다."
author: BAEKJungHo
---

* content
{:toc}

## 목표

  > De-Normalization(반정규화)에 대해서 배워 봅시다.

## De-Normalization(반정규화)

  > De-Normalization(반정규화)
  >
  > 반정규화(=역정규화, De-Normalization)는 정규화된 엔티티, 속성, 관계에 대해 시스템의 성능향상과 개발과 운영의 단순화를 위해 중복, 통합, 분리 등을 수행하는 데이터 모델리의 기법을 의미한다. 즉, 데이터를 중복하여 성능을 향상시키는 기법이며, 더 넓은 의미의 반정규화는 성능을 향상시키기 위해 정규화된 데이터 모델에서 중복, 통합, 분리 등을 수행하는 모든 과정을 포함하게 된다.

  정규화로 인해서 테이블의 수가 증가하게 되면, 다수의 JOIN이 발생함에 따라 성능 저하가 발생할 수 있습니다. 이 문제를 해결하고자 정규화 과정이 모두 마무리 한 다음 반정규화를 실시합니다. 단, 테이블을 합치는 것만이 반정규화는 아닙니다. 반정규화는 `프로젝트 설계단계`에서 적용합니다.

  ![dn2](/images/posts/201907/dn2.jpg)

  - 그룹에 대한 합계 같은 값을 미리 계산하여 테이블에 저장(기존 테이블을 Sum 하여 확인하지 않고 별도의 통계 테이블 생성)
  - 하나의 테이블에서 자주 사용되는 행(레코드)과 그렇지 않은 행들을 분리
  - 자주 JOIN하여 사용하는 컬럼을 중복제거하여 하나의 테이블로 생성

### 데이터 무결성에 위배될 수 있는 반정규화를 수행하는 이유

  - 데이터를 조회할 때 디스크 I/O량이 많아 성능이 저하되는 경우
  - 경로가 너무 멀어 조인으로 인한 성능저하가 예상되는 경우
  - 칼럼을 계산하여 읽을 때, 성능 저하가 예상되는 경우

  ![dn1](/images/posts/201907/dn1.jpg)

### 반정규화 기법

#### 테이블 반정규화

  ![dn3](/images/posts/201907/dn3.jpg)

#### 컬럼 반정규화

  ![dn4](/images/posts/201907/dn4.jpg)

#### 관계 반정규화

  ![dn5](/images/posts/201907/dn5.jpg)
