---
title: "MySQL Basic"
layout: post
category: DataBase
tags: [DataBase, MySQL]
excerpt: "MySQL과 DBMS등 여러 각종 개념들을 배워 봅시다."
author: BAEKJungHo
---

* content
{:toc}

MySQL과 DBMS등 여러 각종 개념들을 배워 봅시다.

## MySQL Basic1

  MySQL과 DBMS에 관한 기본적인 개념들에 대해 배워 봅시다.

## 자료(Data)

  현실세계에서 관찰이나 측정을 통해 수집한 단순한 사실이나 결과값으로, 가공되지 않은 상태

## 자료처리시스템

  정보시스템이 사용할 자료를 처리하는 시스템, 처리 형태에 따라 일괄 처리 시스템,
  온라인 실시간 처리 시스템, 분산 처리 시스템으로 분류

## 정보

  의사결정에 도움을 줄 수 있는 유용한 형태로 자료를 가공(처리)해서 얻은 결과물

  > 자료 --> `가공 처리`(자료처리시스템) --> 정보

## 정보시스템

  조직체에 필요한 data를 수집, 저장 해두었다가 필요시에 처리해서 의사 결정에 유용한
  정보를 생성하고 분배하는 수단, 사용목적에 따라 경영정보시스템, 군사정보시스템,
  인사행정정보시스템, 의사결정지원시스템으로 나뉩니다.

## 데이터 웨어하우스

  조직이나 기업체의 중심이 되는 주요 업무 시스템에서 추출되어 새로이 생성된 데이터베이스로서
  의사결정 지원 시스템을 지원하는 주체적,통합적,시간적 데이터의 집합체

## 데이터베이스의 4가지 만족 조건

  - 통합된 데이터(Integrated Data)

    데이터베이스는 __동일한 데이터가 중복되어 있지 않다는 것__ 을 의미, 하지만 검색의 효율성을 고려하여
    최소한의 중복, 통제된 중복을 허용합니다.

  - 저장 데이터(Stored Data)

    데이터베이스는 컴퓨터가 접근 가능한 자기테이프나 디스크와 같은 저장매체에 저장된 데이터를 의미합니다.

  - 운영 데이터(Operational Data)

    데이터베이스는 어떤 한 조직의 고유 기능을 수행하기 위해 반드시 필요한 데이터를 의미합니다.

    즉, 조직의 존재 목적이나 기능을 수행하는데 없어서는 안 될 데이터의 집합

  - 공용 데이터(Shared Data)

    데이터 베이스는 어느 한 조직의 여러 응용프로그램들이 공동으로 소유하고 유지하며 이용하는 데이터를 의미.

## 데이터베이스의 정의 및 특징

  - 정의

  데이터베이스는 특별한 기업의 응용 시스템에서 사용하기 위한 저장된 데이터의 집합(C. J. Date)

  > 조직화된 정보의 집합

  - 특징

    - 실시간 접근성(Real-time accessibility)

      DB내의 데이터들은 데이터 상호간에 연결되어 있지 않으면 이를 참조할 수 없기 때문에
      상호 밀접한 관계로 연결되어야 하고, 중복된 데이터를 가급적 배제하여 DB를 구축해야 합니다.
      또한 이를 효율적으로 사용하기 위해서는 __실시간 처리가 가능하도록 하여 어떠한 질의에 대해서도
      몇초안에 즉각적인 응답이 이루어져야 합니다.__

    - 계속적인 변화(Continuous evolution)

      데이터베이스는 항상 급변하는 현실 세계를 반영하기 때문에 계속적으로 변화 하여야 합니다.

    - 동시공유(Concurrent sharing)

      데이터베이스는 서로 목적이 다른 사용자들이 같은 시간에 같은 데이터에 접근하여 이용할 수 있도록
      DBMS는 관리하여 접근이 가능하도록 도와줍니다.

    - 내용에 의한 참조(Content reference)

      데이터베이스의 데이터 참조는 레코드의 주소나 위치에서 참조되는 것이 아니라 사용자가 요구하는 데이터의
      값에 따라 참조됩니다.

## DBMS

  DBMS(DataBase Management System)는 사용자 요구에 따라 정보를 생성하고 DB를 관리하는 소프트웨어.

  또한 기존의 파일시스템이 갖는 데이터의 종속성과 중복성의 문제를 해결하기 위해 제안된 시스템이며
  데이터베이스의 구성, 접근방법, 유지관리에 대한 모든 책임을 집니다.

  > DBMS안에는 많은 데이터베이스(DB)가 있습니다.
  >
  > 한 개의 DB안에는 많은 table(자바의 class)이 존재합니다.

  __즉, DBMS는 사용자에게 DB를 생성하고 유지할 수 있게 해주는 프로그램의 집합입니다.__

### 관계 DBMS

  - 관계 DBMS

    1970년 E.F.Codd가 IBM 연구소에서 관계 데이터 모델을 제안
    SQL은 관계 데이터 모델에 기반을 둔 질의어의 사실상의 표준이 되었습니다.

    관계 데이터 모델은 __실제 세계의 객체를 테이블 형태로 표현__ 합니다.

### DBMS의 기능/언어

  - 정의(Definition)

    데이터의 형(Type)과 구조, 데이터가 DB에 저장될 때의 제약조건 등을 명시합니다.

  - 조작(Manipulation)

    데이터의 검색, 갱신, 삽입, 삭제 등을 체계적으로 처리하기 위한 기능입니다.

  - 제어(Control)

    데이터의 `무결성이 유지`되도록 제어해야하며, 정당한 사용자가 허가된 데이터만 접근할 수
    있도록 보안을 유지하고 `권한을 검사` 할 수 있어야 하며, 처리결과가 항상 정확성을 유지하도록
    `병행제어`를 할 수 있어야 합니다.

    DBMS의 언어에는 위 기능을 살린 정의어(DDL), 조작어(DML), 제어어(DCL)가 있습니다.


### DBMS의 장단점

  - 장점

    - 종속성 문제 해결 – 응용 프로그램과 데이터 사이의 종속성 제거

    - 중복성의 문제 해결 –  데이터 일관성 보장, 보안 수준 유지, 무결성, 독립성 보장

    > 장점 : 종속성 제거, 데이터의 무결성, 일관성, 독립성 보장

  - 단점

    - 전문가부족, 시스템이 복잡

    - 전산화 비용 증가

    - 파일의 예비(Back up)와 회복(Recovery)이 어려움

## 무결성(Integrity)

  무결성이란 데이터베이스에 저장된 데이터 값과 그것이 표현하는 현실 세계의 실제값이 일치하는 정확성을 의미합니다.
  무결성의 종류에는 7가지가 있습니다.

  - 개체 무결성(Entity Integrity)

    릴레이션에서 기본키를 구성하는 속성은 NULL값이나 중복값을 가질 수 없다.

  - 참조 무결성(Referential Integrity)

    외래키 값이 NULL값 이거나 참조 릴레이션의 기본키 값이랑 동일해야한다.

    즉, 릴레이션은 참조할 수 없는 외래키 값을 가질 수 없다.

  - 도메인 무결성(Domain Integrity)

    특정 속성의 값이 그 속성이 정의된 도메인에 속한 값이어야 한다는 규정

  - 널 무결성(Null Integrity)

    릴레이션의 특정 속성값이 Null이 될 수 없도록 하는 규정

  - 고유 무결성(Unique Integrity)

    릴레이션의 특정 속성에 대해서 각 튜플이 갖는 값들이 서로 달라야 한다는 규정

  - 관계 무결성(Relationship Integrity)

    릴레이션에 어느 한 튜플의 삽입 가능 여부 또는 한 릴레이션과 다른 릴레이션의 튜플들
    사이의 관계에 대한 적절성 여부를 지정한 규정

## 릴레이션(Relation)

  릴레이션(Relation) : 테이블의 공식적인 이름, 즉, 개체의 이름을 말합니다.

  ![relation](/images/posts/201904/relation.jpg)

  > 개체 = 자바의 객체
  >
  > 릴레이션이름 = 개체의 이름 = 테이블의 이름 = 자바의 클래스 이름

  __릴레이션이름(애트리뷰트1, 애트리뷰트2 .....)__

  - 릴레이션 스키마(Relation Schema)

    릴레이션 스키마를 `내포(intension)`라고 합니다.

    릴레이션 스키마는 __릴레이션이름+애트리뷰트의 집합__ 을 의미합니다.

    기본키 애트리뷰트에는 `밑줄`로 표시를 합니다.

  - 릴레이션 인스턴스(Relation Instance)

    릴레이션 인스턴스를 `외연(extension)`이라고 합니다.

    릴레이션 인스턴스는 __투플들의 집합__ 을 의미합니다. 시간의 흐름에 따라 계속 바뀝니다.
    투플의 삽입, 삭제, 수정이 될 때마다 변합니다.


## Key

  Key란 릴레이션에서 튜플들을 유일하게 구별하는 속성 or 속성들의 집합을 말합니다.

  - Entity Integrity Rule

    - 유일성 규칙 : 하나의 릴레이션에서 모든 튜플들은 서로 다른 키 값을 가져야 한다.

    - 최소성 규칙 : 꼭 필요한 최소한의 속성들로만 키를 구성한다.

  - Super Key(슈퍼키)

    한 릴레이션 내에 있는 속성들의 집합, 릴레이션의 모든 튜플 중 슈퍼키와 동일한 값은
    나타나지 않는다. (유일성 O, 최소성 X)

  - Primary Key(기본키)

    값이 항상 유일한 열 또는 열의 집합, NULL값 허용 X

    > 기본키를 지원하지 않는 제품을 사용할 때 각 기본키에 대한 유일한 인덱스를 생성해야 합니다.

    테이블에서 여러개의 열을 사용하여 기본키를 정의 할 수 있습니다.

    이러한 기본키를 `조합 기본키(Composite Primary Key)`라고 합니다. (유일성 X, 최소성 X)

    ex) 학생 릴레이션에서는 학번 or 주민번호가 기본키가 될 수 있고, 수강 릴레이션에서는
    학번+과목명으로 조합해야 기본키가 됩니다.

  - Candidate Key(후보키)

    후보키는 릴레이션을 구성하는 속성들 중에서 튜플을 유일하게 식별하기 위해 사용합니다.

    (유일성 O, 최소성 O) 모든 릴레이션은 하나 이상의 후보키를 가져야 합니다.

    ex) 학생 릴레이션에서는 학번 or 주민번호가 후보키 입니다.

  - Alternate Key(대체키)

    후보키 중에서 기본키가 되지 못한 키를 말합니다.

    ex) 학생 릴레이션에서 주민번호가 기본키이면 학번은 대체키가 됩니다.

  - Foreign Key(외래키)

    다른 릴레이션의 기본키를 참조하는 속성

    릴레이션간의 관계를 표현하기 위해 사용됩니다. 외래키는 참조 릴레이션의 기본키와 동일.

    ex) 수강 릴레이션이 학생 릴레이션을 참조하고 학생 릴레이션의 기본키가 학번이면
    수강 릴레이션의 학번은 외래키 입니다.

  ![key](/images/posts/201904/key.jpg)

## DBA

  DBA(DataBase Administrator)는 데이터베이스 시스템의 모든 관리와 운영에 대한 책임을 지고 있는
  사람이나 그룹을 의미합니다.

  1. DB 구성 요소 결정
  2. 개념스키마 및 내부스키마 정의
  3. DB의 저장주고 및 접근 방법 정의
  4. 보안 및 DB의 접근권한 부여 정책 수립
  5. 장애에 대한 예비(BackUp), 조치회복(Recovery)에 대한 전략 수립
  6. 무결성을 위한 제약조건의 지정
  7. 데이터 사전의 구성과 유지관리
  8. 사용자의 요구와 불평의 청취 및 해결
  9. 변화 요구에 대한 적응과 성능 향상에 대한 감시
  10. 시스템 감시 및 성능 분석, 데이터 사용 추세 이용형태 및 각종통계 등을 종합, 분석

## 시스템 카탈로그

  시스템 그 자체에 관련이 있는 스키마 및 다양한 객체에 관한 정보를 포함하는 시스템 데이터베이스입니다.

  DB에 포함되는 모든 데이터 객체에 대한 정의나 명세에 관한 정보를 유지관리하는 시스템 테이블을 의미.

  데이터 정의어의 결과로 구성되는 기본 테이블, 뷰, 인덱스, 패키지, 접근권한 등의 DB 구조 및 통계정보를 저장.

  카탈로그들이 생성되면 데이터 사전에 저장되기 때문에 `좁은 의미로는 데이터 사전`이라고도 합니다.

  > 메타 데이터(MetaData) : 카탈로그에 저장된 정보

  - 특징

    - DBMS가 스스로 생성하고 유지
    - 카탈로그는 사용자가 SQL문을 실행시켜 기본테이블, 뷰, 인덱스등에 변화를 주면 시스템이 자동으로 갱신된다.

## Transaction

  [트랜잭션(Transaction)](https://terms.naver.com/entry.nhn?docId=3483740&cid=58439&categoryId=58439)은
  DB의 상태를 변환시키는 하나의 논리적 기능을 수행하기 위한 작업의 단위 또는 한꺼번에
  모두 수행되어야 할 작업의 논리적 단위를 말합니다.

  > 데이터베이스 시스템에서 복구 및 병행수행시 처리되는 작업의 논리적 단위
  >
  > 하나의 트랜잭션은 Commit 되거나 Rollback 됩니다.
  >
  > 트랜잭션은 일반적으로 회복의 단위가 됩니다.
  >
  > [트랜잭션](https://coding-factory.tistory.com/226)

## ANSI/SPARC Architecture

  DBMS의 주요 목적은 사용자에게 데이터에 대한 `추상적인 뷰`와 `데이터 독립성`을 제공합니다.

  > 데이터 독립성 : 상위 단계의 스키마 정의에 영향을 주지 않고 다른 단계의 스키마를 변경할 수 있습니다.
  >
  > 종류 : 논리적 데이터 독립성, 물리적 데이터 독립성

  데이터가 어떻게 저장되고 유지되는가에 대한 것은 숨깁니다.

  > 사용자에게 독립적인 맞춤형 뷰(View)를 제공합니다.

  DBMS 구현에 사용되는 일반적인 아키텍처는 `ANSI/SPARC`인데 총 3단계로 이루어 집니다.

  1. 외부단계(External level) : 각 사용자의 뷰
  2. 개념단계(Conceptual level) : 사용자 공동체의 뷰
  3. 내부단계(Internal level) : 물리적 또는 저장 뷰

  ![scheme](/images/posts/201904/scheme.jpg)

  외부단계는 사용자와 제일 가까운 단계이고 물리적 저장장치와 가장 가까운 단계는 내부단계입니다.

  외부단계는 데이터베이스의 각 사용자가 갖는 뷰(View)입니다. 또한 동일한 데이터에 대한 서로 다른
  표현들을 제공할 수 있습니다.

  개념단계는 조직체의 정보 모델로서, 데이터베이스에 어떤 데이터가 저장되어있으며, 어떤 무결성 제약조건들이
  명시되어있는지를 기술합니다. 즉, `데이터베이스의 논리적인 구조를 기술`합니다.
  DB마다 오직 한 개의 개념 스키마가 존재하며, 개념 스키마는 테이블들의 집합입니다.

  내부 단계는 실제의 물리적인 데이터 구조에 관한 스키마 입니다.
  DB에 어떤 데이터가 어떻게 저장되어있는가를 기술합니다. 또한 이 단계에서는 효율성을 중시하며
  인덱스, 해싱 등과 같은 접근 경로, 데이터 압축 등을 기술합니다.
